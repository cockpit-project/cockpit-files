@use "page.scss";
@use "ct-card.scss";
@use "@patternfly/patternfly/utilities/Text/text.css";

@import "@patternfly/patternfly/components/Button/button.css";

/* Style the list cards as ct-cards */
.pf-c-page__main-section > .pf-c-card {
    @extend .ct-card;
}

.breadcrumb-button {
    padding-inline: 0;
}

button.pf-m-secondary.breadcrumb-edit-button {
    margin-inline-end: var(--pf-v5-global--spacer--sm);
}

button.breadcrumb-edit-apply-button {
    padding-inline-end: var(--pf-v5-global--spacer--sm);
}

button.breadcrumb-edit-cancel-button {
    padding-inline-start: var(--pf-v5-global--spacer--sm);
}

.breadcrumb-edit-apply-icon {
    color: var(--pf-v5-c-button--m-link--Color);
}

.view-toggle-group {
    .pf-c-menu-toggle__button {
        display: flex;
        align-items: flex-start;
    }
}

.check-icon {
    color: var(--pf-global--primary-color--100);
}

// Make the card heading sticky
.card-actionbar {
    position: sticky;
    // Background bleeds through, so we need we need to add a local background
    background: var(--pf-v5-global--BackgroundColor--100);
    // Breadcrumb header size + padding?
    inset-block-start: calc(var(--pf-v5-global--spacer--md) * 3.5);
    // Lift up above icon content
    z-index: 1;
}

// Make the sidebar sticky
.pf-v5-c-sidebar__panel {
    --pf-v5-c-sidebar__panel--Position: sticky;
}

.pf-v5-l-gallery {
    --pf-v5-l-gallery--GridTemplateColumns--max: 10rem;
    align-items: start;
    gap: var(--pf-v5-global--spacer--sm);
    grid-template-columns: repeat(auto-fill, minmax(var(--pf-v5-l-gallery--GridTemplateColumns--max), 1fr));
}

.sidebar-card {
    background: inherit;
    box-shadow: none;
}

.sidebar-panel {
    background-color: var(--pf-c-page__main-section--BackgroundColor);
    inset-block-start: 3rem;
}

#description-list-sidebar {
    margin-block-end: 1rem;
}

// Improve header layout and wrap header text
.sidebar-panel {
    .pf-v5-c-card__header-main {
        display: grid !important;
        grid-template: 1fr / 1fr auto;
        overflow-wrap: anywhere;
        align-items: start;
    }
}

// Wrap titles of modals (instead of truncating long filenames)
.pf-v5-c-modal-box__title, .pf-v5-c-modal-box__title-text {
    white-space: break-spaces;
}
